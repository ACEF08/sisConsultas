(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,s)=>{r.exports=e.r(76562)},36555,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(18566),i=e.i(99009),o=e.i(53145),t=e.i(94814),n=e.i(62201),l=e.i(54469),c=e.i(21816),d=e.i(76644),m=e.i(46696),u=e.i(31278);let h=(0,e.i(75254).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),x=n.object({email:n.string().email("Debe ser un correo electrónico válido."),password:n.string().min(6,"La contraseña debe tener al menos 6 caracteres.")});function j(){let{signIn:e}=(0,i.useAuth)(),[a,n]=s.default.useState(!1),j=(0,o.useForm)({resolver:(0,t.zodResolver)(x),defaultValues:{email:"",password:""}});async function p(r){n(!0);try{await e(r.email,r.password),m.toast.success("¡Inicio de sesión exitoso!")}catch(e){console.error("Error de inicio de sesión:",e),m.toast.error("auth/invalid-credential"===e.code?"Credenciales incorrectas. Verifique su email y contraseña.":"Ocurrió un error inesperado. Inténtelo de nuevo.")}n(!1)}return(0,r.jsx)(c.Form,{...j,children:(0,r.jsxs)("form",{onSubmit:j.handleSubmit(p),className:"space-y-6",children:[(0,r.jsx)(c.FormField,{control:j.control,name:"email",render:({field:e})=>(0,r.jsxs)(c.FormItem,{children:[(0,r.jsx)(c.FormLabel,{children:"Correo Electrónico"}),(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(d.Input,{type:"email",placeholder:"su.correo@dirisls.gob.pe",...e})}),(0,r.jsx)(c.FormMessage,{})]})}),(0,r.jsx)(c.FormField,{control:j.control,name:"password",render:({field:e})=>(0,r.jsxs)(c.FormItem,{children:[(0,r.jsx)(c.FormLabel,{children:"Contraseña"}),(0,r.jsx)(c.FormControl,{children:(0,r.jsx)(d.Input,{type:"password",placeholder:"********",...e})}),(0,r.jsx)(c.FormMessage,{})]})}),(0,r.jsxs)(l.Button,{type:"submit",disabled:a,className:"w-full",children:[a?(0,r.jsx)(u.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(h,{className:"mr-2 h-4 w-4"}),"Ingresar"]})]})})}var p=e.i(65828);function f(){let{user:e,loading:o}=(0,i.useUser)(),t=(0,a.useRouter)();return(s.useEffect(()=>{!o&&e&&t.push("/admin")},[e,o,t]),o||e)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(u.Loader2,{className:"h-12 w-12 animate-spin text-primary"})}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-8rem)]",children:(0,r.jsxs)(p.Card,{className:"w-full max-w-md",children:[(0,r.jsxs)(p.CardHeader,{className:"text-center",children:[(0,r.jsx)(p.CardTitle,{className:"text-2xl font-bold",children:"Acceso del Personal"}),(0,r.jsx)(p.CardDescription,{children:"Ingrese sus credenciales para acceder al panel."})]}),(0,r.jsx)(p.CardContent,{children:(0,r.jsx)(j,{})})]})})}e.s(["default",()=>f],36555)}]);